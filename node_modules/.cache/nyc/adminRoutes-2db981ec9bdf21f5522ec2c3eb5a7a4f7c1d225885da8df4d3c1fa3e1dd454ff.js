function cov_1sayuba7pn(){var path="/home/teja/saiteja/minor_pro/routes/adminRoutes.js";var hash="3969f7f2c413fe6c5082d6e7f373afd877066375";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/teja/saiteja/minor_pro/routes/adminRoutes.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:33}},"1":{start:{line:2,column:13},end:{line:2,column:29}},"2":{start:{line:3,column:11},end:{line:3,column:26}},"3":{start:{line:4,column:17},end:{line:4,column:39}},"4":{start:{line:5,column:12},end:{line:5,column:35}},"5":{start:{line:6,column:18},end:{line:6,column:66}},"6":{start:{line:7,column:21},end:{line:7,column:45}},"7":{start:{line:8,column:26},end:{line:8,column:68}},"8":{start:{line:9,column:42},end:{line:9,column:85}},"9":{start:{line:10,column:0},end:{line:10,column:27}},"10":{start:{line:11,column:0},end:{line:11,column:30}},"11":{start:{line:14,column:0},end:{line:14,column:54}},"12":{start:{line:15,column:25},end:{line:15,column:66}},"13":{start:{line:16,column:0},end:{line:18,column:2}},"14":{start:{line:17,column:4},end:{line:17,column:66}},"15":{start:{line:20,column:0},end:{line:29,column:2}},"16":{start:{line:21,column:20},end:{line:21,column:28}},"17":{start:{line:22,column:4},end:{line:28,column:5}},"18":{start:{line:23,column:24},end:{line:23,column:53}},"19":{start:{line:24,column:8},end:{line:24,column:81}},"20":{start:{line:27,column:8},end:{line:27,column:53}},"21":{start:{line:31,column:0},end:{line:52,column:3}},"22":{start:{line:32,column:17},end:{line:32,column:30}},"23":{start:{line:33,column:17},end:{line:33,column:30}},"24":{start:{line:34,column:4},end:{line:36,column:5}},"25":{start:{line:35,column:8},end:{line:35,column:80}},"26":{start:{line:38,column:4},end:{line:38,column:22}},"27":{start:{line:39,column:4},end:{line:39,column:22}},"28":{start:{line:40,column:4},end:{line:51,column:5}},"29":{start:{line:42,column:22},end:{line:42,column:79}},"30":{start:{line:45,column:8},end:{line:48,column:11}},"31":{start:{line:50,column:8},end:{line:50,column:72}},"32":{start:{line:54,column:0},end:{line:54,column:66}},"33":{start:{line:56,column:23},end:{line:56,column:62}},"34":{start:{line:59,column:0},end:{line:61,column:3}},"35":{start:{line:60,column:4},end:{line:60,column:48}},"36":{start:{line:66,column:0},end:{line:89,column:3}},"37":{start:{line:67,column:4},end:{line:67,column:30}},"38":{start:{line:68,column:16},end:{line:68,column:28}},"39":{start:{line:69,column:4},end:{line:86,column:5}},"40":{start:{line:70,column:24},end:{line:70,column:26}},"41":{start:{line:71,column:8},end:{line:80,column:9}},"42":{start:{line:72,column:24},end:{line:72,column:52}},"43":{start:{line:73,column:12},end:{line:78,column:13}},"44":{start:{line:74,column:16},end:{line:74,column:104}},"45":{start:{line:77,column:16},end:{line:77,column:70}},"46":{start:{line:79,column:12},end:{line:79,column:38}},"47":{start:{line:81,column:8},end:{line:81,column:39}},"48":{start:{line:84,column:8},end:{line:84,column:39}},"49":{start:{line:85,column:8},end:{line:85,column:83}},"50":{start:{line:90,column:0},end:{line:109,column:3}},"51":{start:{line:91,column:4},end:{line:91,column:29}},"52":{start:{line:92,column:16},end:{line:92,column:28}},"53":{start:{line:93,column:4},end:{line:102,column:5}},"54":{start:{line:94,column:8},end:{line:97,column:9}},"55":{start:{line:95,column:24},end:{line:95,column:47}},"56":{start:{line:96,column:12},end:{line:96,column:37}},"57":{start:{line:98,column:8},end:{line:98,column:91}},"58":{start:{line:100,column:8},end:{line:100,column:39}},"59":{start:{line:101,column:8},end:{line:101,column:83}},"60":{start:{line:110,column:19},end:{line:110,column:54}},"61":{start:{line:111,column:0},end:{line:113,column:2}},"62":{start:{line:112,column:5},end:{line:112,column:39}},"63":{start:{line:114,column:0},end:{line:114,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:20},end:{line:16,column:21}},loc:{start:{line:16,column:31},end:{line:18,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:29},end:{line:20,column:30}},loc:{start:{line:20,column:49},end:{line:29,column:1}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:26},end:{line:31,column:27}},loc:{start:{line:31,column:40},end:{line:52,column:1}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:59,column:29},end:{line:59,column:30}},loc:{start:{line:59,column:43},end:{line:61,column:1}},line:59},"4":{name:"(anonymous_4)",decl:{start:{line:66,column:23},end:{line:66,column:24}},loc:{start:{line:66,column:43},end:{line:89,column:1}},line:66},"5":{name:"(anonymous_5)",decl:{start:{line:90,column:24},end:{line:90,column:25}},loc:{start:{line:90,column:44},end:{line:109,column:1}},line:90},"6":{name:"(anonymous_6)",decl:{start:{line:111,column:26},end:{line:111,column:27}},loc:{start:{line:111,column:43},end:{line:113,column:1}},line:111}},branchMap:{"0":{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:34,column:4},end:{line:36,column:5}}],line:34},"1":{loc:{start:{line:34,column:8},end:{line:34,column:22}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:13}},{start:{line:34,column:17},end:{line:34,column:22}}],line:34},"2":{loc:{start:{line:40,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:51,column:5}},{start:{line:40,column:4},end:{line:51,column:5}}],line:40},"3":{loc:{start:{line:40,column:8},end:{line:40,column:45}},type:"binary-expr",locations:[{start:{line:40,column:8},end:{line:40,column:26}},{start:{line:40,column:30},end:{line:40,column:45}}],line:40},"4":{loc:{start:{line:73,column:12},end:{line:78,column:13}},type:"if",locations:[{start:{line:73,column:12},end:{line:78,column:13}},{start:{line:73,column:12},end:{line:78,column:13}}],line:73}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3969f7f2c413fe6c5082d6e7f373afd877066375"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1sayuba7pn=function(){return actualCoverage;};}return actualCoverage;}cov_1sayuba7pn();const express=(cov_1sayuba7pn().s[0]++,require('express'));const router=(cov_1sayuba7pn().s[1]++,express.Router());const path=(cov_1sayuba7pn().s[2]++,require('path'));const bodyParser=(cov_1sayuba7pn().s[3]++,require('body-parser'));const jwt=(cov_1sayuba7pn().s[4]++,require('jsonwebtoken'));const secretKey=(cov_1sayuba7pn().s[5]++,'ThisIsASampleSecretKeyForJWTAuthentication428!');const cookieParser=(cov_1sayuba7pn().s[6]++,require('cookie-parser'));const pendingController=(cov_1sayuba7pn().s[7]++,require('../controller/pendingController'));const{indexFacesAndStore,rejectRequest}=(cov_1sayuba7pn().s[8]++,require('../controller/registerController'));cov_1sayuba7pn().s[9]++;router.use(cookieParser());cov_1sayuba7pn().s[10]++;router.use(bodyParser.json());// Middleware to parse incoming request bodies
cov_1sayuba7pn().s[11]++;router.use(bodyParser.urlencoded({extended:true}));const cookieController=(cov_1sayuba7pn().s[12]++,require('../controller/cookieController'));cov_1sayuba7pn().s[13]++;router.get('/admin',(req,res)=>{cov_1sayuba7pn().f[0]++;cov_1sayuba7pn().s[14]++;res.sendFile(path.join(__dirname,'../views/admin/login.html'));});cov_1sayuba7pn().s[15]++;router.post("/validatejwt",async(req,res)=>{cov_1sayuba7pn().f[1]++;const{token}=(cov_1sayuba7pn().s[16]++,req.body);cov_1sayuba7pn().s[17]++;try{const decoded=(cov_1sayuba7pn().s[18]++,jwt.verify(token,secretKey));cov_1sayuba7pn().s[19]++;return res.status(200).json({success:true,message:"jwt token verified"});}catch(err){cov_1sayuba7pn().s[20]++;return res.status(401).send("Invalid Token");}});cov_1sayuba7pn().s[21]++;router.post('/dashboard',(req,res)=>{cov_1sayuba7pn().f[2]++;const user=(cov_1sayuba7pn().s[22]++,req.body.user);const pass=(cov_1sayuba7pn().s[23]++,req.body.pass);cov_1sayuba7pn().s[24]++;if((cov_1sayuba7pn().b[1][0]++,!user)||(cov_1sayuba7pn().b[1][1]++,!pass)){cov_1sayuba7pn().b[0][0]++;cov_1sayuba7pn().s[25]++;return res.status(400).send('Both username and password are required.');}else{cov_1sayuba7pn().b[0][1]++;}cov_1sayuba7pn().s[26]++;console.log(user);cov_1sayuba7pn().s[27]++;console.log(pass);cov_1sayuba7pn().s[28]++;if((cov_1sayuba7pn().b[3][0]++,user==="saiteja")&&(cov_1sayuba7pn().b[3][1]++,pass==="1234")){cov_1sayuba7pn().b[2][0]++;const token=(cov_1sayuba7pn().s[29]++,jwt.sign({user:user},secretKey,{expiresIn:'30m'}));cov_1sayuba7pn().s[30]++;res.status(200).json({token:token,message:`${user} Welcome, You Are Admin`});}else{cov_1sayuba7pn().b[2][1]++;cov_1sayuba7pn().s[31]++;res.status(401).send(`${user} You entered invalid credentials`);}});cov_1sayuba7pn().s[32]++;router.get('/pending-requests',pendingController.pendingRequests);const viewController=(cov_1sayuba7pn().s[33]++,require('../controller/viewController'));//router.get('/view-requests',viewController.getPendingRequests)
cov_1sayuba7pn().s[34]++;router.get('/view-requests',(req,res)=>{cov_1sayuba7pn().f[3]++;cov_1sayuba7pn().s[35]++;viewController.getPendingRequests(req,res);});cov_1sayuba7pn().s[36]++;router.post('/accept',async(req,res)=>{cov_1sayuba7pn().f[4]++;cov_1sayuba7pn().s[37]++;console.log(req.body.ids);const arr=(cov_1sayuba7pn().s[38]++,req.body.ids);cov_1sayuba7pn().s[39]++;try{let final_res=(cov_1sayuba7pn().s[40]++,[]);cov_1sayuba7pn().s[41]++;for(const id of arr){const data=(cov_1sayuba7pn().s[42]++,await indexFacesAndStore(id));cov_1sayuba7pn().s[43]++;if(data==0){cov_1sayuba7pn().b[4][0]++;cov_1sayuba7pn().s[44]++;final_res.push(`0 ${id} face cannot be registerd because same face is already present `);}else{cov_1sayuba7pn().b[4][1]++;cov_1sayuba7pn().s[45]++;final_res.push(`1 ${id} is registered  successfully`);}cov_1sayuba7pn().s[46]++;console.log(`${id}`,data);}cov_1sayuba7pn().s[47]++;res.status(200).send(final_res);//res.status(200).json({ success: true, message: 'Requests accepted successfully' });
}catch(error){cov_1sayuba7pn().s[48]++;console.error('Error:',error);cov_1sayuba7pn().s[49]++;res.status(500).json({success:false,message:'Internal server error'});}});cov_1sayuba7pn().s[50]++;router.post('/reject',async(req,res)=>{cov_1sayuba7pn().f[5]++;cov_1sayuba7pn().s[51]++;console.log(req.body.ids);const arr=(cov_1sayuba7pn().s[52]++,req.body.ids);cov_1sayuba7pn().s[53]++;try{cov_1sayuba7pn().s[54]++;for(const id of arr){const data=(cov_1sayuba7pn().s[55]++,await rejectRequest(id));cov_1sayuba7pn().s[56]++;console.log(`${id}`,data);}cov_1sayuba7pn().s[57]++;res.status(200).json({success:true,message:'Requests rejected successfully'});}catch(error){cov_1sayuba7pn().s[58]++;console.error('Error:',error);cov_1sayuba7pn().s[59]++;res.status(500).json({success:false,message:'Internal server error'});}/*
    try {
        await rejectRequest(req, res);
    } catch (error) {
        console.error('Error:', error);
        res.status(500).json({ success: false, message: 'Internal server error' });
    }*/});const getMembers=(cov_1sayuba7pn().s[60]++,require('../controller/getMembers'));cov_1sayuba7pn().s[61]++;router.get('/get-members',async(req,res)=>{cov_1sayuba7pn().f[6]++;cov_1sayuba7pn().s[62]++;await getMembers.members(req,res);});cov_1sayuba7pn().s[63]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXNheXViYTdwbiIsImFjdHVhbENvdmVyYWdlIiwiZXhwcmVzcyIsInMiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwicGF0aCIsImJvZHlQYXJzZXIiLCJqd3QiLCJzZWNyZXRLZXkiLCJjb29raWVQYXJzZXIiLCJwZW5kaW5nQ29udHJvbGxlciIsImluZGV4RmFjZXNBbmRTdG9yZSIsInJlamVjdFJlcXVlc3QiLCJ1c2UiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiY29va2llQ29udHJvbGxlciIsImdldCIsInJlcSIsInJlcyIsImYiLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJwb3N0IiwidG9rZW4iLCJib2R5IiwiZGVjb2RlZCIsInZlcmlmeSIsInN0YXR1cyIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyIiwic2VuZCIsInVzZXIiLCJwYXNzIiwiYiIsImNvbnNvbGUiLCJsb2ciLCJzaWduIiwiZXhwaXJlc0luIiwicGVuZGluZ1JlcXVlc3RzIiwidmlld0NvbnRyb2xsZXIiLCJnZXRQZW5kaW5nUmVxdWVzdHMiLCJpZHMiLCJhcnIiLCJmaW5hbF9yZXMiLCJpZCIsImRhdGEiLCJwdXNoIiwiZXJyb3IiLCJnZXRNZW1iZXJzIiwibWVtYmVycyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhZG1pblJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IHJvdXRlcj1leHByZXNzLlJvdXRlcigpXG5jb25zdCBwYXRoPXJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgYm9keVBhcnNlcj1yZXF1aXJlKCdib2R5LXBhcnNlcicpXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IHNlY3JldEtleSA9ICdUaGlzSXNBU2FtcGxlU2VjcmV0S2V5Rm9ySldUQXV0aGVudGljYXRpb240MjghJzsgXG5jb25zdCBjb29raWVQYXJzZXIgPSByZXF1aXJlKCdjb29raWUtcGFyc2VyJyk7XG5jb25zdCBwZW5kaW5nQ29udHJvbGxlciA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXIvcGVuZGluZ0NvbnRyb2xsZXInKTtcbmNvbnN0IHtpbmRleEZhY2VzQW5kU3RvcmUscmVqZWN0UmVxdWVzdH0gPXJlcXVpcmUoJy4uL2NvbnRyb2xsZXIvcmVnaXN0ZXJDb250cm9sbGVyJyk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuXG4vLyBNaWRkbGV3YXJlIHRvIHBhcnNlIGluY29taW5nIHJlcXVlc3QgYm9kaWVzXG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmNvbnN0IGNvb2tpZUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuLi9jb250cm9sbGVyL2Nvb2tpZUNvbnRyb2xsZXInKTtcbnJvdXRlci5nZXQoJy9hZG1pbicsKHJlcSxyZXMpPT57XG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsJy4uL3ZpZXdzL2FkbWluL2xvZ2luLmh0bWwnKSlcbn0pXG5cbnJvdXRlci5wb3N0KFwiL3ZhbGlkYXRland0XCIgLCBhc3luYyhyZXEgLCByZXMpID0+IHtcbiAgICBjb25zdCB7dG9rZW59ID0gcmVxLmJvZHk7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiAsIHNlY3JldEtleSk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7c3VjY2Vzczp0cnVlLG1lc3NhZ2U6XCJqd3QgdG9rZW4gdmVyaWZpZWRcIn0pO1xuICAgIH1cbiAgICBjYXRjaChlcnIpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoXCJJbnZhbGlkIFRva2VuXCIpO1xuICAgIH1cbn0pXG5cbnJvdXRlci5wb3N0KCcvZGFzaGJvYXJkJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHJlcS5ib2R5LnVzZXI7XG4gICAgY29uc3QgcGFzcyA9IHJlcS5ib2R5LnBhc3M7XG4gICAgaWYgKCF1c2VyIHx8ICFwYXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQm90aCB1c2VybmFtZSBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkLicpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKHVzZXIpO1xuICAgIGNvbnNvbGUubG9nKHBhc3MpO1xuICAgIGlmICh1c2VyID09PSBcInNhaXRlamFcIiAmJiBwYXNzID09PSBcIjEyMzRcIikge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXI6IHVzZXIgfSwgc2VjcmV0S2V5LCB7IGV4cGlyZXNJbjogJzMwbScgfSk7XG5cbiAgICAgICAgXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGAke3VzZXJ9IFdlbGNvbWUsIFlvdSBBcmUgQWRtaW5gXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKGAke3VzZXJ9IFlvdSBlbnRlcmVkIGludmFsaWQgY3JlZGVudGlhbHNgKTtcbiAgICB9XG59KTtcblxucm91dGVyLmdldCgnL3BlbmRpbmctcmVxdWVzdHMnLHBlbmRpbmdDb250cm9sbGVyLnBlbmRpbmdSZXF1ZXN0cyk7XG5cbmNvbnN0IHZpZXdDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlci92aWV3Q29udHJvbGxlcicpO1xuLy9yb3V0ZXIuZ2V0KCcvdmlldy1yZXF1ZXN0cycsdmlld0NvbnRyb2xsZXIuZ2V0UGVuZGluZ1JlcXVlc3RzKVxuXG5yb3V0ZXIuZ2V0KCcvdmlldy1yZXF1ZXN0cycsIChyZXEsIHJlcykgPT4ge1xuICAgIHZpZXdDb250cm9sbGVyLmdldFBlbmRpbmdSZXF1ZXN0cyhyZXEsIHJlcyk7XG59KTtcblxuXG5cblxucm91dGVyLnBvc3QoJy9hY2NlcHQnLCBhc3luYyAocmVxLCByZXMpID0+IHsgIFxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5Lmlkcyk7XG4gICAgY29uc3QgYXJyID0gcmVxLmJvZHkuaWRzO1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBmaW5hbF9yZXMgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGFycikge1xuICAgICAgICAgICAgY29uc3QgZGF0YT0gYXdhaXQgaW5kZXhGYWNlc0FuZFN0b3JlKGlkKTtcbiAgICAgICAgICAgIGlmKGRhdGE9PTApe1xuICAgICAgICAgICAgICAgIGZpbmFsX3Jlcy5wdXNoKGAwICR7aWR9IGZhY2UgY2Fubm90IGJlIHJlZ2lzdGVyZCBiZWNhdXNlIHNhbWUgZmFjZSBpcyBhbHJlYWR5IHByZXNlbnQgYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZmluYWxfcmVzLnB1c2goYDEgJHtpZH0gaXMgcmVnaXN0ZXJlZCAgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtpZH1gLCBkYXRhKVxuICAgICAgICB9XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGZpbmFsX3JlcylcbiAgICAgICAgLy9yZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdSZXF1ZXN0cyBhY2NlcHRlZCBzdWNjZXNzZnVsbHknIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxuXG5cbn0pO1xucm91dGVyLnBvc3QoJy9yZWplY3QnLCAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkuaWRzKVxuICAgIGNvbnN0IGFyciA9IHJlcS5ib2R5LmlkcztcbiAgICB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGFycikge1xuICAgICAgICAgICAgY29uc3QgZGF0YT0gYXdhaXQgcmVqZWN0UmVxdWVzdChpZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtpZH1gLGRhdGEpXG4gICAgICAgIH1cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUmVxdWVzdHMgcmVqZWN0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH0vKlxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHJlamVjdFJlcXVlc3QocmVxLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfSovXG59KTtcbmNvbnN0IGdldE1lbWJlcnMgPSByZXF1aXJlKCcuLi9jb250cm9sbGVyL2dldE1lbWJlcnMnKTtcbnJvdXRlci5nZXQoJy9nZXQtbWVtYmVycycsYXN5bmMgKHJlcSxyZXMpPT57XG4gICAgIGF3YWl0IGdldE1lbWJlcnMubWVtYmVycyhyZXEscmVzKTtcbn0pXG5tb2R1bGUuZXhwb3J0cz1yb3V0ZXIiXSwibWFwcGluZ3MiOiJpa05BZVk7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