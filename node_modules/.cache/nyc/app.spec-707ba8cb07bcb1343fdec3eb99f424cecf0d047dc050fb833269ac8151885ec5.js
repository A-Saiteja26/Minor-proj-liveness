function cov_15jcabij12(){var path="/home/teja/saiteja/minor_pro/test/app.spec.js";var hash="06f11629461b1309edc2ab75bf6ed83721cc321f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/teja/saiteja/minor_pro/test/app.spec.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:2,column:19},end:{line:2,column:34}},"2":{start:{line:3,column:25},end:{line:3,column:72}},"3":{start:{line:4,column:31},end:{line:4,column:72}},"4":{start:{line:5,column:0},end:{line:47,column:3}},"5":{start:{line:9,column:2},end:{line:15,column:5}},"6":{start:{line:10,column:4},end:{line:10,column:17}},"7":{start:{line:11,column:4},end:{line:14,column:6}},"8":{start:{line:17,column:2},end:{line:19,column:5}},"9":{start:{line:18,column:4},end:{line:18,column:20}},"10":{start:{line:21,column:2},end:{line:30,column:5}},"11":{start:{line:23,column:4},end:{line:23,column:86}},"12":{start:{line:25,column:4},end:{line:25,column:41}},"13":{start:{line:28,column:4},end:{line:28,column:60}},"14":{start:{line:29,column:4},end:{line:29,column:105}},"15":{start:{line:32,column:2},end:{line:46,column:5}},"16":{start:{line:33,column:26},end:{line:33,column:54}},"17":{start:{line:36,column:4},end:{line:36,column:60}},"18":{start:{line:38,column:4},end:{line:38,column:41}},"19":{start:{line:41,column:4},end:{line:41,column:60}},"20":{start:{line:42,column:4},end:{line:42,column:107}},"21":{start:{line:45,column:4},end:{line:45,column:79}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:36},end:{line:5,column:37}},loc:{start:{line:5,column:42},end:{line:47,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:13},end:{line:9,column:14}},loc:{start:{line:9,column:19},end:{line:15,column:3}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:12},end:{line:17,column:13}},loc:{start:{line:17,column:18},end:{line:19,column:3}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:42},end:{line:21,column:43}},loc:{start:{line:21,column:54},end:{line:30,column:3}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:32,column:39},end:{line:32,column:40}},loc:{start:{line:32,column:51},end:{line:46,column:3}},line:32}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"06f11629461b1309edc2ab75bf6ed83721cc321f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_15jcabij12=function(){return actualCoverage;};}return actualCoverage;}cov_15jcabij12();const sinon=(cov_15jcabij12().s[0]++,require('sinon'));const{expect}=(cov_15jcabij12().s[1]++,require('chai'));const{deletePerson}=(cov_15jcabij12().s[2]++,require('../controller/deletePersonController'));const{searchFacesAndDelete}=(cov_15jcabij12().s[3]++,require('../controller/deleteController'));cov_15jcabij12().s[4]++;describe('deletePerson controller',()=>{cov_15jcabij12().f[0]++;let mockReq;let mockRes;cov_15jcabij12().s[5]++;beforeEach(()=>{cov_15jcabij12().f[1]++;cov_15jcabij12().s[6]++;mockReq={};cov_15jcabij12().s[7]++;mockRes={status:sinon.stub().returnsThis(),json:sinon.spy()};});cov_15jcabij12().s[8]++;afterEach(()=>{cov_15jcabij12().f[2]++;cov_15jcabij12().s[9]++;sinon.restore();});cov_15jcabij12().s[10]++;it('should handle successful deletion',async()=>{cov_15jcabij12().f[3]++;cov_15jcabij12().s[11]++;sinon.stub(searchFacesAndDelete).returns(Promise.resolve('Deleted successfully'));cov_15jcabij12().s[12]++;await deletePerson(mockReq,mockRes);cov_15jcabij12().s[13]++;expect(mockRes.status).to.have.been.calledOnceWith(200);cov_15jcabij12().s[14]++;expect(mockRes.json).to.have.been.calledOnceWith({success:true,message:'Deleted successfully'});});cov_15jcabij12().s[15]++;it('should handle deletion failure',async()=>{cov_15jcabij12().f[4]++;const expectedError=(cov_15jcabij12().s[16]++,new Error('Deletion failed'));cov_15jcabij12().s[17]++;sinon.stub(searchFacesAndDelete).rejects(expectedError);cov_15jcabij12().s[18]++;await deletePerson(mockReq,mockRes);cov_15jcabij12().s[19]++;expect(mockRes.status).to.have.been.calledOnceWith(500);cov_15jcabij12().s[20]++;expect(mockRes.json).to.have.been.calledOnceWith({success:false,message:'Internal server error'});cov_15jcabij12().s[21]++;expect(console.error).to.have.been.calledOnceWith('Error:',expectedError);});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTVqY2FiaWoxMiIsImFjdHVhbENvdmVyYWdlIiwic2lub24iLCJzIiwicmVxdWlyZSIsImV4cGVjdCIsImRlbGV0ZVBlcnNvbiIsInNlYXJjaEZhY2VzQW5kRGVsZXRlIiwiZGVzY3JpYmUiLCJmIiwibW9ja1JlcSIsIm1vY2tSZXMiLCJiZWZvcmVFYWNoIiwic3RhdHVzIiwic3R1YiIsInJldHVybnNUaGlzIiwianNvbiIsInNweSIsImFmdGVyRWFjaCIsInJlc3RvcmUiLCJpdCIsInJldHVybnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRvIiwiaGF2ZSIsImJlZW4iLCJjYWxsZWRPbmNlV2l0aCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXhwZWN0ZWRFcnJvciIsIkVycm9yIiwicmVqZWN0cyIsImNvbnNvbGUiLCJlcnJvciJdLCJzb3VyY2VzIjpbImFwcC5zcGVjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNpbm9uID0gcmVxdWlyZSgnc2lub24nKTtcbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJyk7XG5jb25zdCB7IGRlbGV0ZVBlcnNvbiB9ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlci9kZWxldGVQZXJzb25Db250cm9sbGVyJyk7XG5jb25zdCB7c2VhcmNoRmFjZXNBbmREZWxldGV9ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlci9kZWxldGVDb250cm9sbGVyJylcbmRlc2NyaWJlKCdkZWxldGVQZXJzb24gY29udHJvbGxlcicsICgpID0+IHtcbiAgbGV0IG1vY2tSZXE7XG4gIGxldCBtb2NrUmVzO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tSZXEgPSB7fTsgXG4gICAgbW9ja1JlcyA9IHtcbiAgICAgIHN0YXR1czogc2lub24uc3R1YigpLnJldHVybnNUaGlzKCksXG4gICAgICBqc29uOiBzaW5vbi5zcHkoKVxuICAgIH07XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgc2lub24ucmVzdG9yZSgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBzdWNjZXNzZnVsIGRlbGV0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIFxuICAgIHNpbm9uLnN0dWIoc2VhcmNoRmFjZXNBbmREZWxldGUpLnJldHVybnMoUHJvbWlzZS5yZXNvbHZlKCdEZWxldGVkIHN1Y2Nlc3NmdWxseScpKTtcblxuICAgIGF3YWl0IGRlbGV0ZVBlcnNvbihtb2NrUmVxLCBtb2NrUmVzKTtcblxuICAgIFxuICAgIGV4cGVjdChtb2NrUmVzLnN0YXR1cykudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoKDIwMCk7XG4gICAgZXhwZWN0KG1vY2tSZXMuanNvbikudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0RlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgZGVsZXRpb24gZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBleHBlY3RlZEVycm9yID0gbmV3IEVycm9yKCdEZWxldGlvbiBmYWlsZWQnKTtcblxuICAgXG4gICAgc2lub24uc3R1YihzZWFyY2hGYWNlc0FuZERlbGV0ZSkucmVqZWN0cyhleHBlY3RlZEVycm9yKTtcblxuICAgIGF3YWl0IGRlbGV0ZVBlcnNvbihtb2NrUmVxLCBtb2NrUmVzKTtcblxuICAgIFxuICAgIGV4cGVjdChtb2NrUmVzLnN0YXR1cykudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoKDUwMCk7XG4gICAgZXhwZWN0KG1vY2tSZXMuanNvbikudG8uaGF2ZS5iZWVuLmNhbGxlZE9uY2VXaXRoKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuXG4gICAgXG4gICAgZXhwZWN0KGNvbnNvbGUuZXJyb3IpLnRvLmhhdmUuYmVlbi5jYWxsZWRPbmNlV2l0aCgnRXJyb3I6JywgZXhwZWN0ZWRFcnJvcik7XG4gIH0p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