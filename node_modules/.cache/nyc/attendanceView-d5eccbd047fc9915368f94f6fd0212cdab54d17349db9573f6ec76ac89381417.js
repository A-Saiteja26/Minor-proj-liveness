function cov_cn3ky9jnm(){var path="/home/teja/saiteja/minor_pro/controller/attendanceView.js";var hash="e45243a7d6ce4e4730eda931b305638291793fa6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/teja/saiteja/minor_pro/controller/attendanceView.js",statementMap:{"0":{start:{line:1,column:24},end:{line:1,column:53}},"1":{start:{line:2,column:14},end:{line:2,column:30}},"2":{start:{line:5,column:4},end:{line:41,column:5}},"3":{start:{line:6,column:8},end:{line:6,column:45}},"4":{start:{line:7,column:20},end:{line:7,column:48}},"5":{start:{line:8,column:8},end:{line:8,column:60}},"6":{start:{line:9,column:23},end:{line:9,column:87}},"7":{start:{line:10,column:8},end:{line:10,column:28}},"8":{start:{line:12,column:25},end:{line:15,column:10}},"9":{start:{line:18,column:8},end:{line:18,column:29}},"10":{start:{line:19,column:8},end:{line:36,column:5}},"11":{start:{line:20,column:12},end:{line:35,column:9}},"12":{start:{line:22,column:24},end:{line:25,column:14}},"13":{start:{line:28,column:12},end:{line:28,column:59}},"14":{start:{line:29,column:12},end:{line:29,column:51}},"15":{start:{line:30,column:12},end:{line:30,column:18}},"16":{start:{line:33,column:12},end:{line:33,column:31}},"17":{start:{line:34,column:12},end:{line:34,column:100}},"18":{start:{line:39,column:8},end:{line:39,column:54}},"19":{start:{line:40,column:8},end:{line:40,column:74}},"20":{start:{line:43,column:4},end:{line:43,column:52}},"21":{start:{line:45,column:0},end:{line:45,column:29}}},fnMap:{"0":{name:"attendance",decl:{start:{line:3,column:15},end:{line:3,column:25}},loc:{start:{line:3,column:34},end:{line:44,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:19,column:8},end:{line:36,column:5}},type:"if",locations:[{start:{line:19,column:8},end:{line:36,column:5}},{start:{line:19,column:8},end:{line:36,column:5}}],line:19},"1":{loc:{start:{line:19,column:11},end:{line:19,column:57}},type:"binary-expr",locations:[{start:{line:19,column:11},end:{line:19,column:33}},{start:{line:19,column:38},end:{line:19,column:57}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e45243a7d6ce4e4730eda931b305638291793fa6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_cn3ky9jnm=function(){return actualCoverage;};}return actualCoverage;}cov_cn3ky9jnm();const{mongoClient}=(cov_cn3ky9jnm().s[0]++,require('../config/database'));const axios=(cov_cn3ky9jnm().s[1]++,require('axios'));async function attendance(req,res){cov_cn3ky9jnm().f[0]++;let client;cov_cn3ky9jnm().s[2]++;try{cov_cn3ky9jnm().s[3]++;client=await mongoClient.connect();const db=(cov_cn3ky9jnm().s[4]++,client.db('facerecognition'));cov_cn3ky9jnm().s[5]++;console.log(`${req.query.uname} from inside route`);const result=(cov_cn3ky9jnm().s[6]++,await db.collection('users').findOne({username:req.query.uname}));cov_cn3ky9jnm().s[7]++;console.log(result);const response=(cov_cn3ky9jnm().s[8]++,await axios.post('https://mobile1.qa.darwinbox.io./Mobileapi/auth',{username:result.username,password:result.password}));cov_cn3ky9jnm().s[9]++;console.log(response);cov_cn3ky9jnm().s[10]++;if((cov_cn3ky9jnm().b[1][0]++,response.status===200)&&(cov_cn3ky9jnm().b[1][1]++,response.data.token)){cov_cn3ky9jnm().b[0][0]++;cov_cn3ky9jnm().s[11]++;try{const resp=(cov_cn3ky9jnm().s[12]++,await axios.post('https://mobile1.qa.darwinbox.io/Mobileapi/CheckInData',{token:response.data.token,username:result.username}));//res.status(200).json({"success":true,"message":"done bro"});
cov_cn3ky9jnm().s[13]++;res.status(200).send(resp.data.checkin_details);cov_cn3ky9jnm().s[14]++;console.log(resp.data.checkin_details);cov_cn3ky9jnm().s[15]++;return;}catch(error){cov_cn3ky9jnm().s[16]++;console.log(error);cov_cn3ky9jnm().s[17]++;res.status(405).json({"success":false,"message":"Some error after hitting mobile api"});}}else{cov_cn3ky9jnm().b[0][1]++;}}catch(err){cov_cn3ky9jnm().s[18]++;console.log("error insideattendanceView",err);cov_cn3ky9jnm().s[19]++;res.status(402).json({"status":false,"message":"some error bro"});}cov_cn3ky9jnm().s[20]++;res.status(200).json("you are hitting api bro");}cov_cn3ky9jnm().s[21]++;module.exports={attendance};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfY24za3k5am5tIiwiYWN0dWFsQ292ZXJhZ2UiLCJtb25nb0NsaWVudCIsInMiLCJyZXF1aXJlIiwiYXhpb3MiLCJhdHRlbmRhbmNlIiwicmVxIiwicmVzIiwiZiIsImNsaWVudCIsImNvbm5lY3QiLCJkYiIsImNvbnNvbGUiLCJsb2ciLCJxdWVyeSIsInVuYW1lIiwicmVzdWx0IiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJ1c2VybmFtZSIsInJlc3BvbnNlIiwicG9zdCIsInBhc3N3b3JkIiwiYiIsInN0YXR1cyIsImRhdGEiLCJ0b2tlbiIsInJlc3AiLCJzZW5kIiwiY2hlY2tpbl9kZXRhaWxzIiwiZXJyb3IiLCJqc29uIiwiZXJyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImF0dGVuZGFuY2VWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgbW9uZ29DbGllbnQgfSA9IHJlcXVpcmUoJy4uL2NvbmZpZy9kYXRhYmFzZScpO1xuY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xuYXN5bmMgZnVuY3Rpb24gYXR0ZW5kYW5jZShyZXEscmVzKXtcbiAgICBsZXQgY2xpZW50O1xuICAgIHRyeXtcbiAgICAgICAgY2xpZW50ID0gYXdhaXQgbW9uZ29DbGllbnQuY29ubmVjdCgpO1xuICAgICAgICBjb25zdCBkYiAgPSBjbGllbnQuZGIoJ2ZhY2VyZWNvZ25pdGlvbicpO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHtyZXEucXVlcnkudW5hbWV9IGZyb20gaW5zaWRlIHJvdXRlYCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7dXNlcm5hbWU6cmVxLnF1ZXJ5LnVuYW1lfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCdodHRwczovL21vYmlsZTEucWEuZGFyd2luYm94LmlvLi9Nb2JpbGVhcGkvYXV0aCcse1xuICAgICAgICAgICAgdXNlcm5hbWU6cmVzdWx0LnVzZXJuYW1lLFxuICAgICAgICAgICAgICBwYXNzd29yZDpyZXN1bHQucGFzc3dvcmRcbiAgICAgICAgfSkgO1xuXG5cbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0yMDAgJiYgIHJlc3BvbnNlLmRhdGEudG9rZW4pe1xuICAgICAgICAgICAgdHJ5e1xuXG4gICAgICAgICAgICBjb25zdCByZXNwID1hd2FpdCBheGlvcy5wb3N0KCdodHRwczovL21vYmlsZTEucWEuZGFyd2luYm94LmlvL01vYmlsZWFwaS9DaGVja0luRGF0YScse1xuICAgICAgICAgICAgICB0b2tlbjpyZXNwb25zZS5kYXRhLnRva2VuLFxuICAgICAgICAgICAgICB1c2VybmFtZTpyZXN1bHQudXNlcm5hbWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3Jlcy5zdGF0dXMoMjAwKS5qc29uKHtcInN1Y2Nlc3NcIjp0cnVlLFwibWVzc2FnZVwiOlwiZG9uZSBicm9cIn0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzcC5kYXRhLmNoZWNraW5fZGV0YWlscylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YS5jaGVja2luX2RldGFpbHMpO1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZXJyb3Ipe1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oe1wic3VjY2Vzc1wiOmZhbHNlLFwibWVzc2FnZVwiOlwiU29tZSBlcnJvciBhZnRlciBoaXR0aW5nIG1vYmlsZSBhcGlcIn0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIH1cbiAgICBjYXRjaChlcnIpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIGluc2lkZWF0dGVuZGFuY2VWaWV3XCIsZXJyKTtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDIpLmpzb24oe1wic3RhdHVzXCI6ZmFsc2UsXCJtZXNzYWdlXCI6XCJzb21lIGVycm9yIGJyb1wifSk7XG4gICAgfVxuICAgIFxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFwieW91IGFyZSBoaXR0aW5nIGFwaSBicm9cIik7XG59IFxubW9kdWxlLmV4cG9ydHM9IHthdHRlbmRhbmNlfTsiXSwibWFwcGluZ3MiOiIrOUVBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFFRSxXQUFZLENBQUMsRUFBQUYsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxFQUNyRCxLQUFNLENBQUFDLEtBQUssRUFBQUwsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFDOUIsY0FBZSxDQUFBRSxVQUFVQSxDQUFDQyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxDQUFBUixhQUFBLEdBQUFTLENBQUEsTUFDOUIsR0FBSSxDQUFBQyxNQUFNLENBQUNWLGFBQUEsR0FBQUcsQ0FBQSxNQUNYLEdBQUcsQ0FBQUgsYUFBQSxHQUFBRyxDQUFBLE1BQ0NPLE1BQU0sQ0FBRyxLQUFNLENBQUFSLFdBQVcsQ0FBQ1MsT0FBTyxDQUFDLENBQUMsQ0FDcEMsS0FBTSxDQUFBQyxFQUFFLEVBQUFaLGFBQUEsR0FBQUcsQ0FBQSxNQUFJTyxNQUFNLENBQUNFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFDWixhQUFBLEdBQUFHLENBQUEsTUFDekNVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLEdBQUVQLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDQyxLQUFNLG9CQUFtQixDQUFDLENBQ25ELEtBQU0sQ0FBQUMsTUFBTSxFQUFBakIsYUFBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBUyxFQUFFLENBQUNNLFVBQVUsQ0FBQyxP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