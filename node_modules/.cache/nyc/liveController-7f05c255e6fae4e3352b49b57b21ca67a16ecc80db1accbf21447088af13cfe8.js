function cov_22v35zsgql(){var path="/home/teja/saiteja/minor_pro/controller/liveController.js";var hash="7249438faf355b83f6876dd9bc4b1202c16c0494";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/teja/saiteja/minor_pro/controller/liveController.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:30}},"1":{start:{line:2,column:0},end:{line:2,column:27}},"2":{start:{line:3,column:15},end:{line:3,column:32}},"3":{start:{line:4,column:0},end:{line:10,column:3}},"4":{start:{line:11,column:0},end:{line:11,column:31}},"5":{start:{line:13,column:20},end:{line:13,column:41}},"6":{start:{line:17,column:18},end:{line:17,column:82}},"7":{start:{line:18,column:23},end:{line:18,column:25}},"8":{start:{line:19,column:4},end:{line:22,column:5}},"9":{start:{line:19,column:17},end:{line:19,column:18}},"10":{start:{line:20,column:28},end:{line:20,column:61}},"11":{start:{line:21,column:8},end:{line:21,column:50}},"12":{start:{line:23,column:4},end:{line:23,column:24}},"13":{start:{line:27,column:26},end:{line:46,column:1}},"14":{start:{line:28,column:22},end:{line:28,column:46}},"15":{start:{line:29,column:19},end:{line:37,column:5}},"16":{start:{line:39,column:4},end:{line:45,column:5}},"17":{start:{line:40,column:19},end:{line:40,column:80}},"18":{start:{line:41,column:8},end:{line:41,column:31}},"19":{start:{line:43,column:8},end:{line:43,column:61}},"20":{start:{line:44,column:8},end:{line:44,column:49}},"21":{start:{line:47,column:0},end:{line:47,column:35}}},fnMap:{"0":{name:"generateRandomString",decl:{start:{line:16,column:9},end:{line:16,column:29}},loc:{start:{line:16,column:38},end:{line:24,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:26},end:{line:27,column:27}},loc:{start:{line:27,column:38},end:{line:46,column:1}},line:27}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7249438faf355b83f6876dd9bc4b1202c16c0494"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_22v35zsgql=function(){return actualCoverage;};}return actualCoverage;}cov_22v35zsgql();const AWS=(cov_22v35zsgql().s[0]++,require('aws-sdk'));cov_22v35zsgql().s[1]++;require('dotenv').config();const crypto=(cov_22v35zsgql().s[2]++,require('crypto'));cov_22v35zsgql().s[3]++;AWS.config.update({region:process.env.region,credentials:{accessKeyId:process.env.accessKeyId,secretAccessKey:process.env.secretAccessKey}});cov_22v35zsgql().s[4]++;console.log(process.env.REGION);const rekognition=(cov_22v35zsgql().s[5]++,new AWS.Rekognition());// Helper function to generate a random string
function generateRandomString(length){cov_22v35zsgql().f[0]++;const chars=(cov_22v35zsgql().s[6]++,'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');let randomString=(cov_22v35zsgql().s[7]++,'');cov_22v35zsgql().s[8]++;for(let i=(cov_22v35zsgql().s[9]++,0);i<length;i++){const randomIndex=(cov_22v35zsgql().s[10]++,crypto.randomInt(0,chars.length));cov_22v35zsgql().s[11]++;randomString+=chars.charAt(randomIndex);}cov_22v35zsgql().s[12]++;return randomString;}cov_22v35zsgql().s[13]++;const createLiveSession=async()=>{cov_22v35zsgql().f[1]++;const sessionId=(cov_22v35zsgql().s[14]++,generateRandomString(36));const params=(cov_22v35zsgql().s[15]++,{ClientRequestToken:sessionId,Settings:{AuditImagesLimit:2,OutputConfig:{S3Bucket:process.env.S3_BUCKET_NAMES}}});cov_22v35zsgql().s[16]++;try{let temp=(cov_22v35zsgql().s[17]++,await rekognition.createFaceLivenessSession(params).promise());cov_22v35zsgql().s[18]++;return temp?.SessionId;}catch(error){cov_22v35zsgql().s[19]++;console.error('Error creating live session:',error);cov_22v35zsgql().s[20]++;throw new Error('Internal Server Error');}};cov_22v35zsgql().s[21]++;module.exports={createLiveSession};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjJ2MzV6c2dxbCIsImFjdHVhbENvdmVyYWdlIiwiQVdTIiwicyIsInJlcXVpcmUiLCJjb25maWciLCJjcnlwdG8iLCJ1cGRhdGUiLCJyZWdpb24iLCJwcm9jZXNzIiwiZW52IiwiY3JlZGVudGlhbHMiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSIsImNvbnNvbGUiLCJsb2ciLCJSRUdJT04iLCJyZWtvZ25pdGlvbiIsIlJla29nbml0aW9uIiwiZ2VuZXJhdGVSYW5kb21TdHJpbmciLCJsZW5ndGgiLCJmIiwiY2hhcnMiLCJyYW5kb21TdHJpbmciLCJpIiwicmFuZG9tSW5kZXgiLCJyYW5kb21JbnQiLCJjaGFyQXQiLCJjcmVhdGVMaXZlU2Vzc2lvbiIsInNlc3Npb25JZCIsInBhcmFtcyIsIkNsaWVudFJlcXVlc3RUb2tlbiIsIlNldHRpbmdzIiwiQXVkaXRJbWFnZXNMaW1pdCIsIk91dHB1dENvbmZpZyIsIlMzQnVja2V0IiwiUzNfQlVDS0VUX05BTUVTIiwidGVtcCIsImNyZWF0ZUZhY2VMaXZlbmVzc1Nlc3Npb24iLCJwcm9taXNlIiwiU2Vzc2lvbklkIiwiZXJyb3IiLCJFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJsaXZlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBV1MgPSByZXF1aXJlKCdhd3Mtc2RrJyk7XG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpXG5BV1MuY29uZmlnLnVwZGF0ZSh7XG4gICAgcmVnaW9uOiBwcm9jZXNzLmVudi5yZWdpb24sXG4gICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmFjY2Vzc0tleUlkLFxuICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LnNlY3JldEFjY2Vzc0tleVxuICAgIH1cbn0pO1xuY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuUkVHSU9OKVxuXG5jb25zdCByZWtvZ25pdGlvbiA9IG5ldyBBV1MuUmVrb2duaXRpb24oKTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgcmFuZG9tIHN0cmluZ1xuZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcobGVuZ3RoKSB7XG4gICAgY29uc3QgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAgIGxldCByYW5kb21TdHJpbmcgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gY3J5cHRvLnJhbmRvbUludCgwLCBjaGFycy5sZW5ndGgpO1xuICAgICAgICByYW5kb21TdHJpbmcgKz0gY2hhcnMuY2hhckF0KHJhbmRvbUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJhbmRvbVN0cmluZztcbn1cblxuXG5jb25zdCBjcmVhdGVMaXZlU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBnZW5lcmF0ZVJhbmRvbVN0cmluZygzNik7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBDbGllbnRSZXF1ZXN0VG9rZW46IHNlc3Npb25JZCxcbiAgICAgICAgU2V0dGluZ3M6IHtcbiAgICAgICAgICAgIEF1ZGl0SW1hZ2VzTGltaXQ6IDIsXG4gICAgICAgICAgICBPdXRwdXRDb25maWc6IHtcbiAgICAgICAgICAgICAgICBTM0J1Y2tldDogcHJvY2Vzcy5lbnYuUzNfQlVDS0VUX05BTUVTXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHRlbXAgPSBhd2FpdCByZWtvZ25pdGlvbi5jcmVhdGVGYWNlTGl2ZW5lc3NTZXNzaW9uKHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgICByZXR1cm4gdGVtcD8uU2Vzc2lvbklkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGxpdmUgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZXJuYWwgU2VydmVyIEVycm9yJyk7XG4gICAgfVxufTtcbm1vZHVsZS5leHBvcnRzPXtjcmVhdGVMaXZlU2Vzc2lvbn07Il0sIm1hcHBpbmdzIjoiMnVFQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsR0FBRyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFDSixjQUFBLEdBQUFHLENBQUEsTUFDL0JDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FDMUIsS0FBTSxDQUFBQyxNQUFNLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUFKLGNBQUEsR0FBQUcsQ0FBQSxNQUNoQ0QsR0FBRyxDQUFDRyxNQUFNLENBQUNFLE1BQU0sQ0FBQyxDQUNkQyxNQUFNLENBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixNQUFNLENBQzFCRyxXQUFXLENBQUUsQ0FDVEMsV0FBVyxDQUFFSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsV0FBVyxDQUNwQ0MsZUFBZSxDQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csZUFDakMsQ0FDSixDQUFDLENBQUMsQ0FBQ2IsY0FBQSxHQUFBRyxDQUFBLE1BQ0hXLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTixPQUFPLENBQUNDLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLENBRS9CLEtBQU0sQ0FBQUMsV0FBVyxFQUFBakIsY0FBQSxHQUFBRyxDQUFBLE1BQUcsR0FBSSxDQUFBRCxHQUFHLENBQUNnQixXQUFXLENBQUMsQ0FBQyxFQUV6QztBQUNBLFFBQVMsQ0FBQUMsb0JBQW9CQSxDQUFDQyxNQUFNLENBQUUsQ0FBQXBCLGNBQUEsR0FBQXFCLENBQUEsTUFDbEMsS0FBTSxDQUFBQyxLQUFLLEVBQUF0QixjQUFBLEdBQUFHLENBQUEsTUFBRyxnRUFBZ0UsRUFDOUUsR0FBSSxDQUFBb0IsWUFBWSxFQUFBdkIsY0FBQSxHQUFBRyxDQUFBLE1BQUcsRUFBRSxFQUFDSCxjQUFBLEdBQUFHLENBQUEsTUFDdEIsSUFBSyxHQUFJLENBQUFxQixDQUFDLEVBQUF4QixjQUFBLEdBQUFHLENBQUEsTUFBRyxDQUFDLEVBQUVxQixDQUFDLENBQUdKLE1BQU0sQ0FBRUksQ0FBQyxFQUFFLENBQUUsQ0FDN0IsS0FBTSxDQUFBQyxXQUFXLEVBQUF6QixjQUFBLEdBQUFHLENBQUEsT0FBR0csTUFBTSxDQUFDb0IsU0FBUyxDQUFDLENBQUMsQ0FBRUosS0FBSyxDQUFDRixNQUFNLENBQUMsRUFBQ3BCLGNBQUEsR0FBQUcsQ0FBQSxPQUN0RG9CLFlBQVksRUFBSUQsS0FBSyxDQUFDSyxNQUFNLENBQUNGLFdBQVcsQ0FBQyxDQUM3QyxDQUFDekIsY0FBQSxHQUFBRyxDQUFBLE9BQ0QsTUFBTyxDQUFBb0IsWUFBWSxDQUN2QixDQUFDdkIsY0FBQSxHQUFBRyxDQUFBLE9BR0QsS0FBTSxDQUFBeUIsaUJBQWlCLENBQUcsS0FBQUEsQ0FBQSxHQUFZLENBQUE1QixjQUFBLEdBQUFxQixDQUFBLE1BQ2xDLEtBQU0sQ0FBQVEsU0FBUyxFQUFBN0IsY0FBQSxHQUFBRyxDQUFBLE9BQUdnQixvQkFBb0IsQ0FBQyxFQUFFLENBQUMsRUFDMUMsS0FBTSxDQUFBVyxNQUFNLEVBQUE5QixjQUFBLEdBQUFHLENBQUEsT0FBRyxDQUNYNEIsa0JBQWtCLENBQUVGLFNBQVMsQ0FDN0JHLFFBQVEsQ0FBRSxDQUNOQyxnQkFBZ0IsQ0FBRSxDQUFDLENBQ25CQyxZQUFZLENBQUUsQ0FDVkMsUUFBUSxDQUFFMUIsT0FBTyxDQUFDQyxHQUFHLENBQUMwQixlQUMxQixDQUNKLENBQ0osQ0FBQyxFQUFDcEMsY0FBQSxHQUFBRyxDQUFBLE9BRUYsR0FBSSxDQUNBLEdBQUksQ0FBQWtDLElBQUksRUFBQXJDLGNBQUEsR0FBQUcsQ0FBQSxPQUFHLEtBQU0sQ0FBQWMsV0FBVyxDQUFDcUIseUJBQXlCLENBQUNSLE1BQU0sQ0FBQyxDQUFDUyxPQUFPLENBQUMsQ0FBQyxFQUFDdkMsY0FBQSxHQUFBRyxDQUFBLE9BQ3pFLE1BQU8sQ0FBQWtDLElBQUksRUFBRUcsU0FBUyxDQUMxQixDQUFFLE1BQU9DLEtBQUssQ0FBRSxDQUFBekMsY0FBQSxHQUFBRyxDQUFBLE9BQ1pXLE9BQU8sQ0FBQzJCLEtBQUssQ0FBQyw4QkFBOEIsQ0FBRUEsS0FBSyxDQUFDLENBQUN6QyxjQUFBLEdBQUFHLENBQUEsT0FDckQsS0FBTSxJQUFJLENBQUF1QyxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FDNUMsQ0FDSixDQUFDLENBQUMxQyxjQUFBLEdBQUFHLENBQUEsT0FDRndDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUNoQixpQkFBaUIsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==