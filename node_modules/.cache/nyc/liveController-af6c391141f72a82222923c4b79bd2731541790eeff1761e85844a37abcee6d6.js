function cov_22v35zsgql(){var path="/home/teja/saiteja/minor_pro/controller/liveController.js";var hash="59ab52ff3684defdecc175a4e025dd4064171cca";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/teja/saiteja/minor_pro/controller/liveController.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:30}},"1":{start:{line:2,column:0},end:{line:2,column:25}},"2":{start:{line:3,column:15},end:{line:3,column:32}},"3":{start:{line:4,column:0},end:{line:10,column:3}},"4":{start:{line:11,column:0},end:{line:11,column:31}},"5":{start:{line:13,column:20},end:{line:13,column:41}},"6":{start:{line:17,column:18},end:{line:17,column:82}},"7":{start:{line:18,column:23},end:{line:18,column:25}},"8":{start:{line:19,column:4},end:{line:22,column:5}},"9":{start:{line:19,column:17},end:{line:19,column:18}},"10":{start:{line:20,column:28},end:{line:20,column:61}},"11":{start:{line:21,column:8},end:{line:21,column:50}},"12":{start:{line:23,column:4},end:{line:23,column:24}},"13":{start:{line:27,column:26},end:{line:46,column:1}},"14":{start:{line:28,column:22},end:{line:28,column:46}},"15":{start:{line:29,column:19},end:{line:37,column:5}},"16":{start:{line:39,column:4},end:{line:45,column:5}},"17":{start:{line:40,column:19},end:{line:40,column:80}},"18":{start:{line:41,column:8},end:{line:41,column:31}},"19":{start:{line:43,column:8},end:{line:43,column:61}},"20":{start:{line:44,column:8},end:{line:44,column:49}},"21":{start:{line:47,column:0},end:{line:47,column:35}}},fnMap:{"0":{name:"generateRandomString",decl:{start:{line:16,column:9},end:{line:16,column:29}},loc:{start:{line:16,column:38},end:{line:24,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:26},end:{line:27,column:27}},loc:{start:{line:27,column:38},end:{line:46,column:1}},line:27}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"59ab52ff3684defdecc175a4e025dd4064171cca"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_22v35zsgql=function(){return actualCoverage;};}return actualCoverage;}cov_22v35zsgql();const AWS=(cov_22v35zsgql().s[0]++,require('aws-sdk'));cov_22v35zsgql().s[1]++;require(dotenv).config();const crypto=(cov_22v35zsgql().s[2]++,require('crypto'));cov_22v35zsgql().s[3]++;AWS.config.update({region:process.env.region,credentials:{accessKeyId:process.env.accessKeyId,secretAccessKey:process.env.secretAccessKey}});cov_22v35zsgql().s[4]++;console.log(process.env.REGION);const rekognition=(cov_22v35zsgql().s[5]++,new AWS.Rekognition());// Helper function to generate a random string
function generateRandomString(length){cov_22v35zsgql().f[0]++;const chars=(cov_22v35zsgql().s[6]++,'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');let randomString=(cov_22v35zsgql().s[7]++,'');cov_22v35zsgql().s[8]++;for(let i=(cov_22v35zsgql().s[9]++,0);i<length;i++){const randomIndex=(cov_22v35zsgql().s[10]++,crypto.randomInt(0,chars.length));cov_22v35zsgql().s[11]++;randomString+=chars.charAt(randomIndex);}cov_22v35zsgql().s[12]++;return randomString;}cov_22v35zsgql().s[13]++;const createLiveSession=async()=>{cov_22v35zsgql().f[1]++;const sessionId=(cov_22v35zsgql().s[14]++,generateRandomString(36));const params=(cov_22v35zsgql().s[15]++,{ClientRequestToken:sessionId,Settings:{AuditImagesLimit:2,OutputConfig:{S3Bucket:process.env.S3_BUCKET_NAMES}}});cov_22v35zsgql().s[16]++;try{let temp=(cov_22v35zsgql().s[17]++,await rekognition.createFaceLivenessSession(params).promise());cov_22v35zsgql().s[18]++;return temp?.SessionId;}catch(error){cov_22v35zsgql().s[19]++;console.error('Error creating live session:',error);cov_22v35zsgql().s[20]++;throw new Error('Internal Server Error');}};cov_22v35zsgql().s[21]++;module.exports={createLiveSession};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjJ2MzV6c2dxbCIsImFjdHVhbENvdmVyYWdlIiwiQVdTIiwicyIsInJlcXVpcmUiLCJkb3RlbnYiLCJjb25maWciLCJjcnlwdG8iLCJ1cGRhdGUiLCJyZWdpb24iLCJwcm9jZXNzIiwiZW52IiwiY3JlZGVudGlhbHMiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSIsImNvbnNvbGUiLCJsb2ciLCJSRUdJT04iLCJyZWtvZ25pdGlvbiIsIlJla29nbml0aW9uIiwiZ2VuZXJhdGVSYW5kb21TdHJpbmciLCJsZW5ndGgiLCJmIiwiY2hhcnMiLCJyYW5kb21TdHJpbmciLCJpIiwicmFuZG9tSW5kZXgiLCJyYW5kb21JbnQiLCJjaGFyQXQiLCJjcmVhdGVMaXZlU2Vzc2lvbiIsInNlc3Npb25JZCIsInBhcmFtcyIsIkNsaWVudFJlcXVlc3RUb2tlbiIsIlNldHRpbmdzIiwiQXVkaXRJbWFnZXNMaW1pdCIsIk91dHB1dENvbmZpZyIsIlMzQnVja2V0IiwiUzNfQlVDS0VUX05BTUVTIiwidGVtcCIsImNyZWF0ZUZhY2VMaXZlbmVzc1Nlc3Npb24iLCJwcm9taXNlIiwiU2Vzc2lvbklkIiwiZXJyb3IiLCJFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJsaXZlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBV1MgPSByZXF1aXJlKCdhd3Mtc2RrJyk7XG5yZXF1aXJlKGRvdGVudikuY29uZmlnKCk7XG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKVxuQVdTLmNvbmZpZy51cGRhdGUoe1xuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYucmVnaW9uLFxuICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5hY2Nlc3NLZXlJZCxcbiAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5zZWNyZXRBY2Nlc3NLZXlcbiAgICB9XG59KTtcbmNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlJFR0lPTilcblxuY29uc3QgcmVrb2duaXRpb24gPSBuZXcgQVdTLlJla29nbml0aW9uKCk7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIHJhbmRvbSBzdHJpbmdcbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tU3RyaW5nKGxlbmd0aCkge1xuICAgIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICBsZXQgcmFuZG9tU3RyaW5nID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IGNyeXB0by5yYW5kb21JbnQoMCwgY2hhcnMubGVuZ3RoKTtcbiAgICAgICAgcmFuZG9tU3RyaW5nICs9IGNoYXJzLmNoYXJBdChyYW5kb21JbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByYW5kb21TdHJpbmc7XG59XG5cblxuY29uc3QgY3JlYXRlTGl2ZVNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbklkID0gZ2VuZXJhdGVSYW5kb21TdHJpbmcoMzYpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgQ2xpZW50UmVxdWVzdFRva2VuOiBzZXNzaW9uSWQsXG4gICAgICAgIFNldHRpbmdzOiB7XG4gICAgICAgICAgICBBdWRpdEltYWdlc0xpbWl0OiAyLFxuICAgICAgICAgICAgT3V0cHV0Q29uZmlnOiB7XG4gICAgICAgICAgICAgICAgUzNCdWNrZXQ6IHByb2Nlc3MuZW52LlMzX0JVQ0tFVF9OQU1FU1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGxldCB0ZW1wID0gYXdhaXQgcmVrb2duaXRpb24uY3JlYXRlRmFjZUxpdmVuZXNzU2Vzc2lvbihwYXJhbXMpLnByb21pc2UoKTtcbiAgICAgICAgcmV0dXJuIHRlbXA/LlNlc3Npb25JZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBsaXZlIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVybmFsIFNlcnZlciBFcnJvcicpO1xuICAgIH1cbn07XG5tb2R1bGUuZXhwb3J0cz17Y3JlYXRlTGl2ZVNlc3Npb259OyJdLCJtYXBwaW5ncyI6IjJ1RUFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLEdBQUcsRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBQ0osY0FBQSxHQUFBRyxDQUFBLE1BQy9CQyxPQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUN4QixLQUFNLENBQUFDLE1BQU0sRUFBQVAsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBQUosY0FBQSxHQUFBRyxDQUFBLE1BQ2hDRCxHQUFHLENBQUNJLE1BQU0sQ0FBQ0UsTUFBTSxDQUFDLENBQ2RDLE1BQU0sQ0FBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE1BQU0sQ0FDMUJHLFdBQVcsQ0FBRSxDQUNUQyxXQUFXLENBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxXQUFXLENBQ3BDQyxlQUFlLENBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxlQUNqQyxDQUNKLENBQUMsQ0FBQyxDQUFDZCxjQUFBLEdBQUFHLENBQUEsTUFDSFksT0FBTyxDQUFDQyxHQUFHLENBQUNOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDTSxNQUFNLENBQUMsQ0FFL0IsS0FBTSxDQUFBQyxXQUFXLEVBQUFsQixjQUFBLEdBQUFHLENBQUEsTUFBRyxHQUFJLENBQUFELEdBQUcsQ0FBQ2lCLFdBQVcsQ0FBQyxDQUFDLEVBRXpDO0FBQ0EsUUFBUyxDQUFBQyxvQkFBb0JBLENBQUNDLE1BQU0sQ0FBRSxDQUFBckIsY0FBQSxHQUFBc0IsQ0FBQSxNQUNsQyxLQUFNLENBQUFDLEtBQUssRUFBQXZCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLGdFQUFnRSxFQUM5RSxHQUFJLENBQUFxQixZQUFZLEVBQUF4QixjQUFBLEdBQUFHLENBQUEsTUFBRyxFQUFFLEVBQUNILGNBQUEsR0FBQUcsQ0FBQSxNQUN0QixJQUFLLEdBQUksQ0FBQXNCLENBQUMsRUFBQXpCLGNBQUEsR0FBQUcsQ0FBQSxNQUFHLENBQUMsRUFBRXNCLENBQUMsQ0FBR0osTUFBTSxDQUFFSSxDQUFDLEVBQUUsQ0FBRSxDQUM3QixLQUFNLENBQUFDLFdBQVcsRUFBQTFCLGNBQUEsR0FBQUcsQ0FBQSxPQUFHSSxNQUFNLENBQUNvQixTQUFTLENBQUMsQ0FBQyxDQUFFSixLQUFLLENBQUNGLE1BQU0sQ0FBQyxFQUFDckIsY0FBQSxHQUFBRyxDQUFBLE9BQ3REcUIsWUFBWSxFQUFJRCxLQUFLLENBQUNLLE1BQU0sQ0FBQ0YsV0FBVyxDQUFDLENBQzdDLENBQUMxQixjQUFBLEdBQUFHLENBQUEsT0FDRCxNQUFPLENBQUFxQixZQUFZLENBQ3ZCLENBQUN4QixjQUFBLEdBQUFHLENBQUEsT0FHRCxLQUFNLENBQUEwQixpQkFBaUIsQ0FBRyxLQUFBQSxDQUFBLEdBQVksQ0FBQTdCLGNBQUEsR0FBQXNCLENBQUEsTUFDbEMsS0FBTSxDQUFBUSxTQUFTLEVBQUE5QixjQUFBLEdBQUFHLENBQUEsT0FBR2lCLG9CQUFvQixDQUFDLEVBQUUsQ0FBQyxFQUMxQyxLQUFNLENBQUFXLE1BQU0sRUFBQS9CLGNBQUEsR0FBQUcsQ0FBQSxPQUFHLENBQ1g2QixrQkFBa0IsQ0FBRUYsU0FBUyxDQUM3QkcsUUFBUSxDQUFFLENBQ05DLGdCQUFnQixDQUFFLENBQUMsQ0FDbkJDLFlBQVksQ0FBRSxDQUNWQyxRQUFRLENBQUUxQixPQUFPLENBQUNDLEdBQUcsQ0FBQzBCLGVBQzFCLENBQ0osQ0FDSixDQUFDLEVBQUNyQyxjQUFBLEdBQUFHLENBQUEsT0FFRixHQUFJLENBQ0EsR0FBSSxDQUFBbUMsSUFBSSxFQUFBdEMsY0FBQSxHQUFBRyxDQUFBLE9BQUcsS0FBTSxDQUFBZSxXQUFXLENBQUNxQix5QkFBeUIsQ0FBQ1IsTUFBTSxDQUFDLENBQUNTLE9BQU8sQ0FBQyxDQUFDLEVBQUN4QyxjQUFBLEdBQUFHLENBQUEsT0FDekUsTUFBTyxDQUFBbUMsSUFBSSxFQUFFRyxTQUFTLENBQzFCLENBQUUsTUFBT0MsS0FBSyxDQUFFLENBQUExQyxjQUFBLEdBQUFHLENBQUEsT0FDWlksT0FBTyxDQUFDMkIsS0FBSyxDQUFDLDhCQUE4QixDQUFFQSxLQUFLLENBQUMsQ0FBQzFDLGNBQUEsR0FBQUcsQ0FBQSxPQUNyRCxLQUFNLElBQUksQ0FBQXdDLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUM1QyxDQUNKLENBQUMsQ0FBQzNDLGNBQUEsR0FBQUcsQ0FBQSxPQUNGeUMsTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQ2hCLGlCQUFpQixDQUFDIiwiaWdub3JlTGlzdCI6W119